{"version":3,"file":"bundle.js","sources":["../src/lib/question.js","../src/lib/helpers.js","../src/lib/storage.js","../src/lib/highscore.js","../src/lib/game.js","../src/index.js"],"sourcesContent":["/**\n * Úr sýnilausn fyrir verkefni 7.\n */\n\nconst operators = ['+', '-', '*', '/'];\n\n/**\n* Skilar tölu af handahófi á bilinu [min, max]\n*/\nfunction randomNumber(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n/**\n* Útbýr spurningu og skilar sem hlut:\n* { problem: strengur með spurningu, answer: svar við spurningu sem tala }\n*/\nexport default function question() {\n  const operator = operators[randomNumber(0, operators.length - 1)];\n\n  let a = null;\n  let b = null;\n  let answer = null;\n\n  switch (operator) {\n    case '+':\n      a = randomNumber(10, 100);\n      b = randomNumber(10, 100);\n      answer = a + b;\n      break;\n    case '-':\n      a = randomNumber(10, 100);\n      b = randomNumber(10, a);\n      answer = a - b;\n      break;\n    case '*':\n      a = randomNumber(1, 10);\n      b = randomNumber(1, 10);\n      answer = a * b;\n      break;\n    case '/':\n      b = randomNumber(2, 10);\n      a = randomNumber(2, 10) * b;\n      answer = a / b;\n      break;\n    default:\n      break;\n  }\n\n  return {\n    problem: `${a} ${operator} ${b}`,\n    answer,\n  };\n}\n","/**\n * Hreinsa börn úr elementi\n *\n * @param {object} element Element sem á að hreinsa börn úr\n */\nexport function empty(element) {\n  while (element.firstChild) {\n    element.removeChild(element.firstChild);\n  }\n}\n/**\n* Búa til element og aukalega setja börn ef send með\n*\n* @param {string} name Nafn á element\n* @param  {...any} children Börn fyrir element\n*/\nexport function el(name, ...children) {\n  const element = document.createElement(name);\n\n  if (Array.isArray(children)) {\n    children.forEach((child) => {\n      if (typeof child === 'string') {\n        element.appendChild(document.createTextNode(child));\n      } else if (child) {\n        element.appendChild(child);\n      }\n    });\n  }\n  return element;\n}\n","/**\n * Sækir og vistar í localStorage\n */\n\n// Fast sem skilgreinir heiti á lykli sem vistað er undir í localStorage\nconst LOCALSTORAGE_KEY = 'calc_game_scores';\n\n/**\n * Sækir gögn úr localStorage. Skilað sem röðuðum lista á forminu:\n * { points: <stig>, name: <nafn> }\n *\n * @returns {array} Raðað fylki af svörum eða tóma fylkið ef ekkert vistað.\n */\nlet geymsla = [];\nexport function load() {\n  if (localStorage.getItem(LOCALSTORAGE_KEY)) {\n    geymsla = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n  }\n  return geymsla;\n}\n\n/**\n * Vista stig\n *\n * @param {string} name Nafn þess sem á að vista\n * @param {number} points Stig sem á að vista\n */\nexport function save(name, points) {\n  const vistadurLeikmadur = { points, name };\n  geymsla = geymsla.concat(vistadurLeikmadur);\n  geymsla.sort((a, b) => Number(b.points) - Number(a.points));\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(geymsla));\n}\n\n/**\n * Hreinsa öll stig úr localStorage\n */\nexport function clear() {\n  geymsla = [];\n  localStorage.clear();\n  window.localStorage.removeItem(LOCALSTORAGE_KEY);\n}\n","// todo vísa í rétta hluti með import\nimport * as help from './helpers';\nimport * as storage from './storage';\n\n/**\n * Reikna út stig fyrir svör út frá heildarfjölda svarað á tíma.\n * Ekki þarf að gera ráð fyrir hversu lengi seinasta spurning var sýnd. Þ.e.a.s.\n * stig verða alltaf reiknuð fyrir n-1 af n spurningum.\n *\n * @param {number} total Heildarfjöldi spurninga\n * @param {number} correct Fjöldi svarað rétt\n * @param {number} time Tími sem spurningum var svarað á í sekúndum\n * @returns {number} Stig fyrir svör\n */\nexport function score(total, correct, time) {\n  // Útfærum gefna jöfnu:\n  let gildi = (((correct / total) * (correct / total) + correct) * total / time);\n  // Námunda að næstu heilu tölu og margfalda með 100\n  gildi = Math.round(gildi) * 100;\n  return gildi;\n}\n/**\n* Útbúa stigatöflu, sækir gögn í gegnum storage.js\n*/\nexport default class Highscore {\n  constructor() {\n    this.scores = document.querySelector('.highscore__scores');\n    this.button = document.querySelector('.highscore__button');\n\n    this.button.addEventListener('click', this.clear.bind(this));\n  }\n  /**\n   * Hlaða stigatöflu inn\n   */\n  load() {\n    this.highscore(storage.load());\n  }\n  /**\n   * Hreinsa allar færslur úr stigatöflu, tengt við takka .highscore__button\n   */\n  clear() {\n    storage.clear();\n    help.empty(this.scores);\n    const stigSkrad = help.el('p', 'Engin stig skráð');\n\n    this.scores.appendChild(stigSkrad);\n    this.button.classList.add('highscore__button--hidden');\n  }\n  /**\n   * Hlaða inn stigatöflu fyrir gefin gögn.\n   *\n   * @param {array} data Fylki af færslum í stigatöflu\n   */\n  highscore(data) {\n    help.empty(this.scores);\n    this.button.classList.add('highscore__button--hidden');\n    const ordList = help.el('oL');\n    this.score.appendChild(ordList);\n    data.forEach((pts) => {\n      const listi = help.el('li');\n      const stig = help.el('span', `${pts.points}`);\n      stig.classList.add('highscore__number');\n      stig.classList.add('highscore__name');\n      const nafn = help.el('span', `${stig.name}`);\n      ordList.appendChild(listi);\n      listi.appendChild(stig);\n      listi.appendChild(nafn);\n    });\n  }\n}\n","import Question from './question';\nimport * as helper from './helpers';\nimport Highscore, { score } from './highscore';\nimport * as storage from './storage';\n// allar breytur hér eru aðeins sýnilegar innan þessa módúl\n\nlet startButton; // takki sem byrjar leik\nlet problem; // element sem heldur utan um verkefni, sjá index.html\nlet result; // element sem heldur utan um niðurstöðu, sjá index.html\n// Bætt við\nlet teljari;\nlet svar;\nlet svorin;\nlet birtaTexta;\nlet stig;\nlet met;\nlet resultInput;\nlet points; // Fjöldi stiga\n// Lokið\nlet playTime; // hversu lengi á að spila? Sent inn gegnum init()\nlet total = 0; // fjöldi spurninga í núverandi leik\nlet correct = 0; // fjöldi réttra svara í núverandi leik\nlet currentProblem; // spurning sem er verið að sýna\n// Fall sem hreinsar svar reitinn.\nfunction hreinsun() {\n  svar.value = '';\n}\n// Reiknar stig og birtir í result.\nfunction finish() {\n  points = score(total, correct, playTime);\n  const text = `Þú svaraðir ${correct} rétt af ${total} spurningum og fékkst ${points} stig fyrir. Skráðu þig á stigatöfluna!`;\n  hreinsun();\n  const nytt = helper.el('span', text);\n  helper.empty(birtaTexta);\n  birtaTexta.appendChild(nytt);\n  /**\n  * Klárar leik. Birtir result og felur problem.\n  */\n  problem.classList.add('problem--hidden');\n  result.classList.remove('result--hidden');\n}\n\n/**\n * Keyrir áfram leikinn. Telur niður eftir því hve langur leikur er og þegar\n * tími er búinn kallar í finish().\n *\n * Í staðinn fyrir að nota setInterval köllum við í setTimeout á sekúndu fresti.\n * Þurfum þá ekki að halda utan um id á intervali og skilum falli sem lokar\n * yfir fjölda sekúnda sem eftir er.\n *\n * @param {number} current Sekúndur eftir\n */\nfunction tick(current) {\n  helper.empty(teljari);\n  const nytt = helper.el('span', `${current}`);\n  teljari.appendChild(nytt);\n  setTimeout(() => {\n    if (current <= 0) {\n      return finish();\n    }\n\n    return tick(current - 1);\n  }, 1000);\n}\n\n/**\n * Býr til nýja spurningu og sýnir undir .problem__question\n */\nfunction showQuestion() {\n  currentProblem = new Question();\n  total += 1;\n  const problemQuestion = problem.querySelector('.problem__question');\n  helper.empty(problemQuestion);\n  const span = helper.el('span', currentProblem.problem);\n  problemQuestion.appendChild(span);\n}\n\n/**\n * Byrjar leik\n *\n * - Felur startButton og sýnir problem\n * - Núllstillir total og correct\n * - Kallar í fyrsta sinn í tick()\n * - Sýnir fyrstu spurningu\n */\nfunction start() {\n  correct = 0;\n  total = 0;\n  points = 0;\n  startButton.classList.add('button--hidden');\n  problem.classList.remove('problem--hidden');\n  tick(playTime);\n  showQuestion();\n}\n\n/**\n * Event handler fyrir það þegar spurningu er svarað. Athugar hvort svar sé\n * rétt, hreinsar input og birtir nýja spurningu.\n *\n * @param {object} e Event þegar spurningu svarað\n */\nfunction onSubmit(e) {\n  e.preventDefault();\n  const a = svar.value.trim();\n\n  if (parseInt(a, 10) === currentProblem.answer) {\n    correct += 1;\n  }\n  hreinsun();\n  showQuestion();\n}\n\n/**\n * Event handler fyrir þegar stig eru skráð eftir leik.\n *\n * @param {*} e Event þegar stig eru skráð\n */\nfunction onSubmitScore(e) {\n  e.preventDefault();\n  const a = resultInput.value.trim();\n\n  storage.save(a, points);\n  met.load();\n  result.classList.add('result--hidden');\n  problem.classList.add('problem--hidden');\n  startButton.classList.remove('button--hidden');\n}\n\n/**\n * Finnur öll element DOM og setur upp event handlers.\n *\n * @param {number} _playTime Fjöldi sekúnda sem hver leikur er\n */\nexport default function init(_playTime) {\n  playTime = _playTime;\n  met = new Highscore();\n\n  problem = document.querySelector('.problem');\n  result = document.querySelector('.result');\n  teljari = document.querySelector('.problem__timer');\n  svar = document.querySelector('.problem__input');\n  startButton = document.querySelector('.start');\n  svorin = document.querySelector('.problem__answer');\n  birtaTexta = document.querySelector('.result__text');\n  stig = document.querySelector('.result__form');\n  resultInput = document.querySelector('.result__input');\n  startButton = document.addevenListener('click', start);\n  svorin.addEventListener('submit', onSubmit);\n  stig.addEventListener('submit', onSubmitScore);\n}\n","import initGame from './lib/game';\nimport Highscore from './lib/highscore';\n\nconst PLAY_TIME = 10;\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initGame(PLAY_TIME);\n\n  const highscore = new Highscore();\n  highscore.load();\n});"],"names":["operators","randomNumber","min","max","Math","floor","random","question","operator","length","a","b","answer","problem","empty","element","firstChild","removeChild","el","name","document","createElement","children","Array","isArray","forEach","child","appendChild","createTextNode","LOCALSTORAGE_KEY","geymsla","load","localStorage","getItem","JSON","parse","save","points","vistadurLeikmadur","concat","sort","Number","setItem","stringify","clear","window","removeItem","score","total","correct","time","gildi","round","Highscore","scores","querySelector","button","addEventListener","bind","highscore","storage","help","stigSkrad","classList","add","data","ordList","pts","listi","stig","nafn","startButton","result","teljari","svar","svorin","birtaTexta","met","resultInput","playTime","currentProblem","hreinsun","value","finish","text","nytt","helper","remove","tick","current","setTimeout","showQuestion","Question","problemQuestion","span","start","onSubmit","e","preventDefault","trim","parseInt","onSubmitScore","init","_playTime","addevenListener","PLAY_TIME","initGame"],"mappings":"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"}